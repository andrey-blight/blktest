# BLKTEST

### Приложение для тестирования производительности блочных устройств через fio.

Запуск приложение происходит посредством запуска bash скрипта

1) Даем bash скрипту право на исполнение
2) Запускаем приложение (средний тест проходит за 10-20 минут)

```console
chmod +x blktest
```

```console
./blktest -name=testname -filename=filename -output=path/to/plot.png
```

### Параметры:

name - Название теста

filename - Название файла или устройства на котором будет проходить тест

output - Название файла куда будет сохранен график latency от iodepth

## Реализация

Bash скрипт парсит параметры и запускает с ними `main.py`. Проект содержит несколько модулей. Первый из них -
логирование `logger.py`. Логи пишутся в `logs/blktest.log` - info уровень логов и `logs/blktest_debug.log` - debug
уровень логирования

Реализовано два класса для работы с fio, FioExecutor запускает fio с переданными параметрами, FioParser достает
read latency и write latency из stdout отработанного fio при помощи регулярных выражений

Параметр iodepth выбирается логарифмически (то есть сначала более мелкие значения, и потом с более большим шагом до 256)